---
name: web-novel-editorial
description: |
  网文创作智能编辑部，用于生成可商用网文。
  
  触发场景：
  - 创建新网文项目（都市/玄幻/历史/悬疑等）
  - 网文创作需求（大纲设计、章节撰写）
  - 网文内容审核（节奏、爽点、人物）
  - 生成可发布到起点/番茄/七猫的内容
  
  团队角色：总编（协调）、研究员（素材调研）、写手（撰写）、编辑（审核）
  
  ## 快捷命令
  
  | 命令 | 说明 |
  |------|------|
  | /help | 查看所有可用命令 |
  | /onboard | 首次使用，批量初始化模型配置 |
  | /config-model [角色] [模型] | 更改单个角色的模型 |
  | /show-models | 查看当前模型配置 |
  | /list-models | 列出可用模型 |
  | /new [题材] | 创建新网文项目 |
  | /continue | 继续当前项目 |
  | /status | 查看项目进度 |
---

# 网文编辑部

专业的网文创作团队，支持从选题到终稿的全流程。

## 快速开始

```
用户需求 → 研究调研 → 全员讨论 → 设定写入记忆库 → 章节撰写 → 终审交付
```

**创建项目**：告诉我题材、风格、目标平台、预计字数

**项目位置**：所有小说项目都创建在 `docs/webnovel/` 目录下

**继续项目**：告诉我项目位置，或使用 `/continue` 自动检测进度

## 模型配置

### 首次配置流程（在新机器上首次使用）

**当 skill 启动时，按以下步骤配置：**

```
1. 检查 settings.json 中的 modelConfig.roles 是否有配置
2. 检查 settings/model-config.md 中的角色模型分配是否完成
3. 如果未配置：
   - 读取 opencode.json 获取可用模型列表
   - 列出可用模型，让用户一一选择
   - 将选择写入 settings.json 和 model-config.md
```

### 首次配置提示

**当检测到模型未配置时，提示用户：**

```
⚠️ 模型配置未完成！

请运行 /onboard 进行批量初始化配置

或者手动为各角色选择大模型：
/config-model 总编 [模型]
/config-model 调研员 [模型]
/config-model 写手 [模型]
/config-model 编辑 [模型]
```

**或使用批量初始化命令**：
```
/onboard
```
系统会引导您一步步为所有角色选择模型。

### 配置位置

- **可用模型来源**：`C:\Users\Bobo\.config\opencode\opencode.json` → `provider.wolfai.models`
- **配置存储**：`settings.json` → `modelConfig.roles`

### 查看配置

使用 `/show-models` 查看当前各角色的模型配置。

### 配置命令

| 命令 | 说明 |
|------|------|
| `/init` | 首次使用，批量初始化所有角色的模型 |
| `/config-model [角色] [模型]` | 更改单个角色的模型 |
| `/show-models` | 查看当前模型配置 |
| `/list-models` | 列出所有可用模型 |

### 批量初始化（/onboard）

使用 `/onboard` 命令重新配置所有角色：

```
/onboard
```

**注意**：运行此命令会引导您为所有角色（总编→调研员→写手→编辑）依次选择模型，不管之前是否有配置。按 `esc` 取消。

系统会：
1. 读取 opencode.json 中的可用模型列表
2. 依次询问每个角色选择哪个模型（总编→调研员→写手→编辑）
3. 自动保存到 settings.json 和 model-config.md

### 更改模型配置

已有配置后，使用 `/config-model` 命令更改：

```
/config-model 总编 claude-opus-4-6-thinking
/config-model 调研员 gpt-5.2
/config-model 写手 kimi-k2.5
/config-model 编辑 glm-4.7
```

详细配置见 [settings/model-config.md](settings/model-config.md)

---

## 记忆库（核心⭐）

编辑部使用 Chroma 向量数据库作为记忆库，实现长记忆和资料一致性。

### 核心规则

**全员讨论会后，所有确定的设定写入记忆库。此后编辑部内部交流必须通过记忆库获取资料，不再直接读取文件。**

| 节点 | 动作 |
|------|------|
| 全员讨论会后 | 总编将所有设定写入记忆库 |
| 写手写作前 | 从记忆库查询相关设定 |
| 编辑审核时 | 从记忆库查询相关设定进行对比 |
| 章节完成后 | 将章节摘要写入记忆库 |

### 记忆库集合

| 集合名 | 内容 |
|--------|------|
| world | 世界观设定 |
| characters | 人物设定 |
| skills | 技能设定 |
| chapters | 章节摘要 |
| foreshadowing | 伏笔记录 |

详细配置见 [chroma-integration.md](references/chroma-integration.md)

## AI去味（核心⭐）

**所有产出必须去除AI写作痕迹，这是编辑部的铁律。** 详见 [humanizer.md](references/humanizer.md)

### 五条核心规则

| 规则 | 说明 |
|------|------|
| 删除填充短语 | 去除开场白、强调性拐杖词（"值得注意的是""需要强调的是"） |
| 打破公式结构 | 避免二元对比、三段式列举、修辞性设置 |
| 变化节奏 | 长短句混合，段落结尾多样化 |
| 信任读者 | 直接陈述事实，不过度解释 |
| 删除金句 | 不写可引用式的"名言警句" |

### 高频问题词汇

**禁止使用**：此外、与此同时、至关重要、深入探讨、持久的、显著的、作为...代表

**禁止结构**：不仅...而且...、从X到Y、这不仅仅是...而是...

### AI去味检查流程

| 阶段 | 执行者 | 动作 |
|------|--------|------|
| 产出后 | 写手 | 初步自检，标记可疑处 |
| 审核时 | 编辑 | AI去味检测，可直接修改 |
| 双重确认 | 总编 | 检查编辑是否修改过AI去味 |

**编辑修改权**：编辑可直接使用AI去味逻辑修改文章，不需要打回给写手

**总编确认**：如果编辑修改了AI去味，总编在双重确认时需检查修改质量

## 核心方法论

| 概念 | 说明 |
|------|------|
| 爽点 | 打脸/升级/收获/保护/碾压/反转/情感 |
| 黄金三章 | 第1章立人设+金手指，第2章冲突升级，第3章首胜+钩子 |
| 审核标准 | 每章有爽点+钩子，主角有进展，节奏明快 |

## 详细文档

| 文档 | 内容 |
|------|------|
| [工作流程](CLAUDE.md) | 7阶段流程、角色规则、质量门 |
| [流程检查清单](references/流程检查清单.md) | 每阶段必检项（必须执行⭐） |
| [大纲保障](references/大纲遵循保障.md) | 防止写飞的保障机制 |
| [写作方法论](references/methodology.md) | 爽点设计、节奏架构 |
| [审核清单](skills/editor-skill/checklist.md) | 章节审核标准（含AI检测） |
| [AI去味指南](references/humanizer.md) | 去除AI痕迹的详细指南 |
| [模板目录](templates/) | 大纲/人物/世界观等模板 |
| [案例库](references/case-library/) | 实际项目示例 |

## 文件结构

```
project/
├── source/requirements.md    # 创作需求
├── outputs/                   # 所有产出
│   ├── outline.md            # 大纲
│   ├── world.md              # 世界观
│   ├── characters.md         # 人物
│   ├── chapters/             # 章节内容
│   └── reviews/              # 审核意见
└── state/                    # 状态持久化
```

## 注意事项

- 建议使用 Opus/Sonnet 级别模型
- 产出为高质量初稿，终稿仍需人工审阅
- 项目结束后自动沉淀经验到方法论
